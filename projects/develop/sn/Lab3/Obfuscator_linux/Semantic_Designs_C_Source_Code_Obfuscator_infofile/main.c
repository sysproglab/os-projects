#include \
<unistd.h>
#include \
<stdio.h>
#include \
<sys/stat.h>
#include \
<sys/types.h>
#include \
<time.h>
int
main
(
int
O
,
char
*
*
o
)
{
struct
stat
i
;
if
(
O
!=
02
||
stat
(
o
[
01
]
,
&
i
)
<
0
)
return
01
;
I
(
i
)
;
return
0
;
}
static
char
l
(
mode_t
Oo
)
{
if
(
S_ISREG
(
Oo
)
)
return
'\055'
;
if
(
S_ISDIR
(
Oo
)
)
return
'\144'
;
if
(
S_ISBLK
(
Oo
)
)
return
'\142'
;
if
(
S_ISCHR
(
Oo
)
)
return
'\143'
;
if
(
S_ISLNK
(
Oo
)
)
return
'\154'
;
if
(
S_ISFIFO
(
Oo
)
)
return
'\160'
;
if
(
S_ISSOCK
(
Oo
)
)
return
'\163'
;
return
'\077'
;
}
void
oo
(
mode_t
io
,
char
*
Io
)
{
Io
[
0
]
=
l
(
io
)
;
Io
[
01
]
=
io
&
S_IRUSR
?
'\162'
:
'\055'
;
Io
[
02
]
=
io
&
S_IWUSR
?
'\167'
:
'\055'
;
Io
[
03
]
=
(
io
&
S_ISUID
?
(
io
&
S_IXUSR
?
'\163'
:
'\123'
)
:
(
io
&
S_IXUSR
?
'\170'
:
'\055'
)
)
;
Io
[
04
]
=
io
&
S_IRGRP
?
'\162'
:
'\055'
;
Io
[
05
]
=
io
&
S_IWGRP
?
'\167'
:
'\055'
;
Io
[
06
]
=
(
io
&
S_ISGID
?
(
io
&
S_IXGRP
?
'\163'
:
'\123'
)
:
(
io
&
S_IXGRP
?
'\170'
:
'\055'
)
)
;
Io
[
07
]
=
io
&
S_IROTH
?
'\162'
:
'\055'
;
Io
[
010
]
=
io
&
S_IWOTH
?
'\167'
:
'\055'
;
Io
[
011
]
=
(
io
&
S_ISVTX
?
(
io
&
S_IXOTH
?
'\164'
:
'\124'
)
:
(
io
&
S_IXOTH
?
'\170'
:
'\055'
)
)
;
Io
[
012
]
=
'\040'
;
Io
[
013
]
=
'\000'
;
}
void
lo
(
struct
stat
i
)
{
switch
(
i
.
st_mode
&
S_IFMT
)
{
case
S_IFBLK
:
printf
(
"\x0431\x043b\x043e\x0447\x043d\x043e\x0435 \x0443\x0441\x0442\x0440\x043e\x0439\x0441\x0442\x0432\x043e\012"
)
;
break
;
case
S_IFCHR
:
printf
(
"\x0441\x0438\x043c\x0432\x043e\x043b\x044c\x043d\x043e\x0435 \x0443\x0441\x0442\x0440\x043e\x0439\x0441\x0442\x0432\x043e\n"
)
;
break
;
case
S_IFDIR
:
printf
(
"\x0434\x0438\x0440\x0435\x043a\x0442\x043e\x0440\x0438\x044f\012"
)
;
break
;
case
S_IFIFO
:
printf
(
"\106\111F\117\057\160ipe\012"
)
;
break
;
case
S_IFLNK
:
printf
(
"\x0441\x0438\x043c\x0432\x043e\x043b\x044c\x043d\x0430\x044f\040\x0441\x0441\x044b\x043b\x043a\x0430\012"
)
;
break
;
case
S_IFREG
:
printf
(
"\x043e\x0431\x044b\x0447\x043d\x044b\x0439\040\x0444\x0430\x0439\x043b\n"
)
;
break
;
case
S_IFSOCK
:
printf
(
"\163\157cket\n"
)
;
break
;
default
:
printf
(
"?\012"
)
;
break
;
}
}
void
I
(
struct
stat
i
)
{
printf
(
"\x0420\x0430\x0437\x043c\x0435\x0440\040\x0444\x0430\x0439\x043b\x0430:\040\012\t\045d\040\x0431\x0430\x0439\x0442\012"
,
i
.
st_size
)
;
printf
(
"\x0427\x0438\x0441\x043b\x043e\040\x0436\x0451\x0441\x0442\x043a\x0438\x0445\040\x0441\x0441\x044b\x043b\x043e\x043a\072\040\n\t%d\012"
,
i
.
st_nlink
)
;
printf
(
"in\157\144\145\040\x0444\x0430\x0439\x043b\x0430\072\040\n\011\045\144\012"
,
i
.
st_ino
)
;
printf
(
"I\104 \x0443\x0441\x0442\x0440\x043e\x0439\x0441\x0442\x0432\x0430, \x0441\x043e\x0434\x0435\x0440\x0436\x0430\x0449\x0435\x0433\x043e\040\x0444\x0430\x0439\x043b:\040\n\t\045\144\n"
,
i
.
st_dev
)
;
printf
(
"ID\040\x043f\x043e\x043b\x044c\x0437\x043e\x0432\x0430\x0442\x0435\x043b\x044f\040\x0432\x043b\x0430\x0434\x0435\x043b\x044c\x0446\x0430: \n\011%d\n"
,
i
.
st_uid
)
;
printf
(
"\111D\040\x0433\x0440\x0443\x043f\x043f\x044b \x0432\x043b\x0430\x0434\x0435\x043b\x044c\x0446\x0430: \012\t\045d\n"
,
i
.
st_gid
)
;
printf
(
"I\104 \x0443\x0441\x0442\x0440\x043e\x0439\x0441\x0442\x0432\x0430 (\x0435\x0441\x043b\x0438 \x0441\x043f\x0435\x0446\x0438\x0430\x043b\x044c\x043d\x044b\x0439\040\x0444\x0430\x0439\x043b\051:\040\011\045\144\n"
,
i
.
st_rdev
)
;
printf
(
"\x0420\x0430\x0437\x043c\x0435\x0440 \x0431\x043b\x043e\x043a\x0430\040\x0434\x043b\x044f I/O: \n\t%\144\n"
,
i
.
st_blksize
)
;
printf
(
"\x0427\x0438\x0441\x043b\x043e \x0432\x044b\x0434\x0435\x043b\x0435\x043d\x043d\x044b\x0445\040\x0431\x043b\x043e\x043a\x043e\x0432 \x0440\x0430\x0437\x043c\x0435\x0440\x043e\x043c\0405\061\062\040\x0431\x0430\x0439\x0442\072\n\t\045d\012"
,
i
.
st_blocks
)
;
char
Oi
[
014
]
;
oo
(
i
.
st_mode
,
Oi
)
;
printf
(
"\x041f\x0440\x0430\x0432\x0430 \x0434\x043e\x0441\x0442\x0443\x043f\x0430 \x043a\040\x0444\x0430\x0439\x043b\x0443:\012\t%\163\n"
,
Oi
)
;
printf
(
"\x0422\x0438\x043f\040\x0444\x0430\x0439\x043b\x0430\072\012\011"
)
;
lo
(
i
)
;
struct
tm
*
oi
;
printf
(
"\x041f\x043e\x0441\x043b\x0435\x0434\x043d\x0435\x0435 \x0438\x0437\x043c\x0435\x043d\x0435\x043d\x0438\x0435\040\x0441\x0442\x0430\x0442\x0443\x0441\x0430:\012\t%\163"
,
ctime
(
&
i
.
st_ctime
)
)
;
printf
(
"\x041f\x043e\x0441\x043b\x0435\x0434\x043d\x0438\x0439\040\x0434\x043e\x0441\x0442\x0443\x043f \x043a \x0444\x0430\x0439\x043b\x0443\072\012\011\045s"
,
ctime
(
&
i
.
st_atime
)
)
;
printf
(
"\x041f\x043e\x0441\x043b\x0435\x0434\x043d\x0438\x044f \x043c\x043e\x0434\x0438\x0444\x0438\x043a\x0430\x0446\x0438\x044f \x0444\x0430\x0439\x043b\x0430:\012\011\045\163"
,
ctime
(
&
i
.
st_mtime
)
)
;
}
